{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://fdc3.finos.org/schemas/next/context/chatSearchCriteria.schema.json",
  "type": "object",
  "title": "Chat Search Criteria",
  "allOf": [{
      "type": "object",
      "properties": {
        "type": { "const": "fdc3.chat.searchCriteria" },
        "criteria": {
          "title": "Criteria",
          "description": "An array of criteria that should match chats returned from by a search",
          "type": "array",
          "items": { 
            "anyOf": [
              { "$ref": "instrument.schema.json#" },
              { "$ref": "organization.schema.json#" },
              { "$ref": "contact.schema.json#" },
              { "type": "string" }
            ]
          }
        }
      },
      "required": ["criteria"]
    },
    { "$ref": "context.schema.json#" }
  ],
  "examples": [
    {
      "type": "fdc3.chat.searchCriteria",
      "criteria": [
        {
          "type": "fdc3.contact",
          "name": "Jane Doe",
          "id": {
              "email": "jane.doe@mail.com"
          }
        },
        {
          "type": "fdc3.instrument",
          "id": {
            "ticker": "TSLA"
          },
          "name": "Tesla, inc."
        },
        "annual return"
      ]
    }
  ]
}
